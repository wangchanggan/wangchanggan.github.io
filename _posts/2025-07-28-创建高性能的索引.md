---
layout:     post
title:      创建高性能的索引
date:       2025-07-28
catalog: true
tags:
    - 高性能MySQL
---

# 索引基础
## 索引的类型
在MySQL中，索引是在存储引擎层而不是服务器层实现的。所以，并没有统一的索引标准：不同存储引擎的索引的工作方式并不一样，也不是所有的存储引擎都支持所有类型的索引。
### B-tree索引
* 按照索引列中的数据大小顺序存储的，很适合按照范围来查询。
* InnoDB存储引擎有一个被称为自适应哈希索引的特性。当InnoDB发现某些索引值被非常频繁地被访问时，它会在原有的B-tree索引之上，在内存中再构建一个哈希索引。
* B-tree索引适用于全键值、键值范围或键前缀查找。其中键前缀查找只适用于根据最左前缀的查找。
1. 全值匹配指的是和索引中的所有列匹配
2. 匹配最左前缀
3. 匹配列前缀
4. 匹配范围值
5. 精确匹配某一列而范围匹配另外一列
6. 只访问索引的查询

#### 限制
* 如果不是按照索引的最左列开始查找，则无法使用索引。
* 不能跳过索引中的列。
* 如果查询中有某列的范围查询，则其右边所有列都无法使用索引优化查找。

### 全文索引
FULLTEXT是一种特殊类型的索引，它查找的是文本中的关键词，而不是直接比较索引中的值。